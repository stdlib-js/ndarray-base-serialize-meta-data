// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).serialize=r()}(this,(function(){"use strict";function t(t){var r=t.default;if("function"==typeof r){var n=function(){return r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var e=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,e.get?e:{enumerable:!0,get:function(){return t[r]}})})),n}var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var n=function(){try{return r({},"x",{}),!0}catch(t){return!1}},e=Object.defineProperty,o=Object.prototype,i=o.toString,u=o.__defineGetter__,a=o.__defineSetter__,f=o.__lookupGetter__,c=o.__lookupSetter__;var l=function(t,r,n){var e,l,s,y;if("object"!=typeof t||null===t||"[object Array]"===i.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof n||null===n||"[object Array]"===i.call(n))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+n+"`.");if((l="value"in n)&&(f.call(t,r)||c.call(t,r)?(e=t.__proto__,t.__proto__=o,delete t[r],t[r]=n.value,t.__proto__=e):t[r]=n.value),s="get"in n,y="set"in n,l&&(s||y))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&u&&u.call(t,r,n.get),y&&a&&a.call(t,r,n.set),t},s=e,y=l,p=n()?s:y,v=p;var b=function(t,r,n){v(t,r,{configurable:!1,enumerable:!1,writable:!1,value:n})},g=b;var m=function(t){return"boolean"==typeof t};var d=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var w=function(){return d&&"symbol"==typeof Symbol.toStringTag},h=Object.prototype.toString,_=h;var j=function(t){return _.call(t)},A=Object.prototype.hasOwnProperty;var I=function(t,r){return null!=t&&A.call(t,r)},O="function"==typeof Symbol?Symbol.toStringTag:"",E=I,S=O,B=h;var P=j,U=function(t){var r,n,e;if(null==t)return B.call(t);n=t[S],r=E(t,S);try{t[S]=void 0}catch(r){return B.call(t)}return e=B.call(t),r?t[S]=n:delete t[S],e},F=w()?U:P,N=Boolean.prototype.toString;var V=F,x=function(t){try{return N.call(t),!0}catch(t){return!1}},T=w();var D=function(t){return"object"==typeof t&&(t instanceof Boolean||(T?x(t):"[object Boolean]"===V(t)))},k=m,L=D;var Y=g,G=function(t){return k(t)||L(t)},M=D;Y(G,"isPrimitive",m),Y(G,"isObject",M);var R=G;var X=function(){return new Function("return this;")()},C="object"==typeof self?self:null,z="object"==typeof window?window:null,H="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},W="object"==typeof H?H:null;module.exports=W;var q=R.isPrimitive,J=X,K=C,Q=z,Z=t(Object.freeze({__proto__:null}));var $=function(t){if(arguments.length){if(!q(t))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+t+"`.");if(t)return J()}if(K)return K;if(Q)return Q;if(Z)return Z;throw new Error("unexpected error. Unable to resolve global object.")},tt=$,rt=tt();var nt=function(){return"function"==typeof rt.BigInt&&"function"==typeof BigInt&&"bigint"==typeof rt.BigInt("1")&&"bigint"==typeof BigInt("1")},et=F,ot="function"==typeof Uint8Array;var it="function"==typeof Uint8Array?Uint8Array:null,ut=function(t){return ot&&t instanceof Uint8Array||"[object Uint8Array]"===et(t)},at=it;var ft=function(){var t,r;if("function"!=typeof at)return!1;try{r=new at(r=[1,3.14,-3.14,256,257]),t=ut(r)&&1===r[0]&&3===r[1]&&253===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var ct="function"==typeof Uint8Array?Uint8Array:void 0,lt=function(){throw new Error("not implemented")},st=ft()?ct:lt,yt=F,pt="function"==typeof Uint16Array;var vt="function"==typeof Uint16Array?Uint16Array:null,bt=function(t){return pt&&t instanceof Uint16Array||"[object Uint16Array]"===yt(t)},gt=vt;var mt=function(){var t,r;if("function"!=typeof gt)return!1;try{r=new gt(r=[1,3.14,-3.14,65536,65537]),t=bt(r)&&1===r[0]&&3===r[1]&&65533===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var dt,wt="function"==typeof Uint16Array?Uint16Array:void 0,ht=function(){throw new Error("not implemented")},_t={uint16:mt()?wt:ht,uint8:st};(dt=new _t.uint16(1))[0]=4660;var jt=52===new _t.uint8(dt.buffer)[0],At=F,It="function"==typeof ArrayBuffer;var Ot=function(t){return It&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===At(t)},Et=F,St="function"==typeof Float64Array;var Bt="function"==typeof Float64Array?Float64Array:null,Pt=function(t){return St&&t instanceof Float64Array||"[object Float64Array]"===Et(t)},Ut=Bt;var Ft=function(){var t,r;if("function"!=typeof Ut)return!1;try{r=new Ut([1,3.14,-3.14,NaN]),t=Pt(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){t=!1}return t};var Nt,Vt="function"==typeof Float64Array?Float64Array:void 0,xt=function(){throw new Error("not implemented")};Nt=Ft()?Vt:xt;var Tt="function"==typeof ArrayBuffer?ArrayBuffer:null,Dt=Ot,kt=Nt,Lt=Tt;var Yt=function(){var t,r,n;if("function"!=typeof Lt)return!1;try{n=new Lt(16),(t=Dt(n)&&"function"==typeof Lt.isView)&&((r=new kt(n))[0]=-3.14,r[1]=NaN,t=t&&Lt.isView(r)&&16===n.byteLength&&-3.14===r[0]&&r[1]!=r[1])}catch(r){t=!1}return t};var Gt="function"==typeof ArrayBuffer?ArrayBuffer:void 0,Mt=function(){throw new Error("not implemented")},Rt=Yt()?Gt:Mt,Xt=F,Ct="function"==typeof DataView;var zt="function"==typeof DataView?DataView:null,Ht=function(t){return Ct&&t instanceof DataView||"[object DataView]"===Xt(t)},Wt=Rt,qt=zt;var Jt=function(){var t,r,n;if("function"!=typeof qt)return!1;try{n=new Wt(24),r=new qt(n,8),(t=Ht(r)&&"function"==typeof r.getFloat64&&"function"==typeof r.setFloat64)&&(r.setFloat64(0,-3.14),r.setFloat64(8,NaN),t=t&&r.buffer===n&&16===r.byteLength&&8===r.byteOffset&&-3.14===r.getFloat64(0)&&r.getFloat64(8)!=r.getFloat64(8))}catch(r){t=!1}return t};var Kt="function"==typeof DataView?DataView:void 0,Qt=function(){throw new Error("not implemented")},Zt=Jt()?Kt:Qt,$t="function"==typeof BigInt?BigInt:void 0,tr={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};var rr=function(t){return tr[t]||null},nr=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var er=function(){return nr.slice()};var or=function(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}},ir=p;var ur=function(t,r,n){ir(t,r,{configurable:!1,enumerable:!0,writable:!1,value:n})},ar=ur;var fr=function(t){return Object.keys(Object(t))},cr=fr;var lr=function(){return function(){return 2!==(cr(arguments)||"").length}(1,2)},sr=void 0!==Object.keys,yr=F;var pr,vr=function(t){return"[object Arguments]"===yr(t)},br=vr;pr=function(){return br(arguments)}();var gr=pr;var mr=function(t){return"string"==typeof t},dr=String.prototype.valueOf;var wr=F,hr=function(t){try{return dr.call(t),!0}catch(t){return!1}},_r=w();var jr=function(t){return"object"==typeof t&&(t instanceof String||(_r?hr(t):"[object String]"===wr(t)))},Ar=mr,Ir=jr;var Or=g,Er=function(t){return Ar(t)||Ir(t)},Sr=jr;Or(Er,"isPrimitive",mr),Or(Er,"isObject",Sr);var Br=Er;var Pr=function(t){return"number"==typeof t},Ur=Number,Fr=Ur.prototype.toString;var Nr=F,Vr=Ur,xr=function(t){try{return Fr.call(t),!0}catch(t){return!1}},Tr=w();var Dr=function(t){return"object"==typeof t&&(t instanceof Vr||(Tr?xr(t):"[object Number]"===Nr(t)))},kr=Pr,Lr=Dr;var Yr=g,Gr=function(t){return kr(t)||Lr(t)},Mr=Dr;Yr(Gr,"isPrimitive",Pr),Yr(Gr,"isObject",Mr);var Rr=Gr;var Xr=function(t){return t!=t},Cr=Rr.isPrimitive,zr=Xr;var Hr=function(t){return Cr(t)&&zr(t)},Wr=Rr.isObject,qr=Xr;var Jr=function(t){return Wr(t)&&qr(t.valueOf())},Kr=Hr,Qr=Jr;var Zr=g,$r=function(t){return Kr(t)||Qr(t)},tn=Jr;Zr($r,"isPrimitive",Hr),Zr($r,"isObject",tn);var rn=$r,nn=Number.POSITIVE_INFINITY,en=Ur.NEGATIVE_INFINITY,on=Math.floor,un=on;var an=function(t){return un(t)===t},fn=nn,cn=en,ln=an;var sn=function(t){return t<fn&&t>cn&&ln(t)},yn=Rr.isPrimitive,pn=sn;var vn=function(t){return yn(t)&&pn(t)},bn=Rr.isObject,gn=sn;var mn=function(t){return bn(t)&&gn(t.valueOf())},dn=vn,wn=mn;var hn=g,_n=function(t){return dn(t)||wn(t)},jn=mn;hn(_n,"isPrimitive",vn),hn(_n,"isObject",jn);var An,In=_n,On=Object.prototype.propertyIsEnumerable;An=!On.call("beep","0");var En=Br,Sn=rn.isPrimitive,Bn=In.isPrimitive,Pn=On,Un=An;var Fn=function(t,r){var n;return null!=t&&(!(n=Pn.call(t,r))&&Un&&En(t)?!Sn(r=+r)&&Bn(r)&&r>=0&&r<t.length:n)},Nn=Fn,Vn=F;var xn=Array.isArray?Array.isArray:function(t){return"[object Array]"===Vn(t)},Tn=I,Dn=Nn,kn=xn,Ln=an;var Yn=gr?vr:function(t){return null!==t&&"object"==typeof t&&!kn(t)&&"number"==typeof t.length&&Ln(t.length)&&t.length>=0&&t.length<=4294967295&&Tn(t,"callee")&&!Dn(t,"callee")},Gn=Yn,Mn=fr,Rn=Array.prototype.slice;var Xn=function(t){return Gn(t)?Mn(Rn.call(t)):Mn(t)},Cn=xn;var zn=function(t){return null!==t&&"object"==typeof t};g(zn,"isObjectLikeArray",function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var n,e;if(!Cn(r))return!1;if(0===(n=r.length))return!1;for(e=0;e<n;e++)if(!1===t(r[e]))return!1;return!0}}(zn));var Hn=zn;var Wn=Nn((function(){}),"prototype"),qn=!Nn({toString:null},"toString"),Jn=an;var Kn=rn,Qn=function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&Jn(t.length)&&t.length>=0&&t.length<=9007199254740991},Zn=Br.isPrimitive,$n=In.isPrimitive;var te=function(t,r,n){var e,o;if(!Qn(t)&&!Zn(t))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+t+"`.");if(0===(e=t.length))return-1;if(3===arguments.length){if(!$n(n))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+n+"`.");if(n>=0){if(n>=e)return-1;o=n}else(o=e+n)<0&&(o=0)}else o=0;if(Kn(r)){for(;o<e;o++)if(Kn(t[o]))return o}else for(;o<e;o++)if(t[o]===r)return o;return-1},re=te,ne=/./,ee=tt(),oe=ee.document&&ee.document.childNodes,ie=Int8Array,ue=ne,ae=oe,fe=ie;var ce=function(){return"function"==typeof ue||"object"==typeof fe||"function"==typeof ae};var le=function(){return/^\s*function\s*([^(]*)/i},se=le;g(se,"REGEXP",le());var ye=Hn;var pe=F,ve=se.REGEXP,be=function(t){return ye(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))};var ge=function(t){var r,n,e;if(("Object"===(n=pe(t).slice(8,-1))||"Error"===n)&&t.constructor){if("string"==typeof(e=t.constructor).name)return e.name;if(r=ve.exec(e.toString()))return r[1]}return be(t)?"Buffer":n},me=ge;var de=ge;var we=function(t){var r;return null===t?"null":"object"===(r=typeof t)?me(t).toLowerCase():r},he=function(t){return de(t).toLowerCase()},_e=ce()?he:we;var je,Ae=function(t){return t.constructor&&t.constructor.prototype===t},Ie="undefined"==typeof window?void 0:window,Oe=I,Ee=re,Se=_e,Be=Ae,Pe=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Ue=Ie;je=function(){var t;if("undefined"===Se(Ue))return!1;for(t in Ue)try{-1===Ee(Pe,t)&&Oe(Ue,t)&&null!==Ue[t]&&"object"===Se(Ue[t])&&Be(Ue[t])}catch(t){return!0}return!1}();var Fe="undefined"!=typeof window,Ne=je,Ve=Ae,xe=Fe;var Te=Hn,De=I,ke=Yn,Le=Wn,Ye=qn,Ge=function(t){if(!1===xe&&!Ne)return Ve(t);try{return Ve(t)}catch(t){return!1}},Me=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Re,Xe=fr,Ce=Xn,ze=function(t){var r,n,e,o,i,u,a;if(o=[],ke(t)){for(a=0;a<t.length;a++)o.push(a.toString());return o}if("string"==typeof t){if(t.length>0&&!De(t,"0"))for(a=0;a<t.length;a++)o.push(a.toString())}else{if(!1===(e="function"==typeof t)&&!Te(t))return o;n=Le&&e}for(i in t)n&&"prototype"===i||!De(t,i)||o.push(String(i));if(Ye)for(r=Ge(t),a=0;a<Me.length;a++)u=Me[a],r&&"constructor"===u||!De(t,u)||o.push(String(u));return o};Re=sr?lr()?Ce:Xe:ze;var He=ar,We=Re;var qe=function(t,r){var n,e,o;for(n=We(r),o=0;o<n.length;o++)e=n[o],He(t,e,r[e]);return t},Je=er,Ke=or,Qe=qe;g(Je,"enum",Ke),Qe(Je,Ke());var Ze=Je,$e=["row-major","column-major"];var to=function(){return $e.slice()};g(to,"enum",(function(){return{"row-major":1,"column-major":2}}));var ro=to,no=["throw","clamp","wrap"];var eo=function(){return no.slice()};g(eo,"enum",(function(){return{throw:1,clamp:2,wrap:3}}));var oo=eo,io=Ze.enum(),uo=ro.enum(),ao=oo.enum();var fo=jt,co=st,lo=Zt,so=on;var yo=function(t){var r,n,e,o;return r=new co(8),0===t||(o=(4294967295&t)>>>0,e=so(t/4294967296),n=new lo(r.buffer),fo?(n.setUint32(0,o,fo),n.setUint32(4,e,fo)):(n.setUint32(0,e,fo),n.setUint32(4,o,fo))),r},po=jt,vo=Zt,bo=on,go=new st(8),mo=new vo(go.buffer);var wo=yo;g(wo,"assign",(function(t,r,n,e){var o,i,u;if(0===t){for(u=0;u<go.length;u++)r[e]=0,e+=n;return r}for(i=(4294967295&t)>>>0,o=bo(t/4294967296),po?(mo.setUint32(0,i,po),mo.setUint32(4,o,po)):(mo.setUint32(0,o,po),mo.setUint32(4,i,po)),u=0;u<go.length;u++)r[e]=go[u],e+=n;return r}));var ho=wo,_o=Ze.enum(),jo=ro.enum(),Ao=oo.enum();return nt()?function(t){var r,n,e,o,i,u,a,f,c,l,s,y,p;if(t.__array_meta_dataview__)return t.__array_meta_dataview__();for(e=t.dtype,o=t.shape,i=t.strides,s=o.length,f=t.mode||"throw",y=(u=t.submode||[f]).length,r=rr(e),c=0,(a=new Zt(new Rt(33+16*s+y))).setInt8(c,jt?1:0),c+=1,a.setInt16(c,io[e],jt),c+=2,a.setBigInt64(c,$t(s),jt),l=8*s,c+=8,p=0;p<s;p++)a.setBigInt64(c,$t(o[p]),jt),a.setBigInt64(c+l,$t(i[p]*r),jt),c+=8;for(c+=l,a.setBigInt64(c,$t(t.offset*r),jt),c+=8,a.setInt8(c,uo[t.order]),c+=1,a.setInt8(c,ao[f]),c+=1,a.setBigInt64(c,$t(y),jt),c+=8,p=0;p<y;p++)a.setInt8(c,ao[u[p]]),c+=1;return n=0,t.flags&&(n|=t.flags.READONLY?4:0),a.setInt32(c,n,jt),a}:function(t){var r,n,e,o,i,u,a,f,c,l,s,y,p,v;if(t.__array_meta_dataview__)return t.__array_meta_dataview__();for(o=t.dtype,i=t.shape,u=t.strides,y=i.length,c=t.mode||"throw",p=(a=t.submode||[c]).length,r=rr(o),f=new Zt(new Rt(33+16*y+p)),n=new st(f.buffer),l=0,f.setInt8(l,jt?1:0),l+=1,f.setInt16(l,_o[o],jt),l+=2,ho.assign(y,n,1,l),s=8*y,l+=8,v=0;v<y;v++)ho.assign(i[v],n,1,l),ho.assign(u[v]*r,n,1,l+s),l+=8;for(l+=s,ho.assign(t.offset*r,n,1,l),l+=8,f.setInt8(l,jo[t.order]),l+=1,f.setInt8(l,Ao[c]),l+=1,ho.assign(p,n,1,l),l+=8,v=0;v<p;v++)f.setInt8(l,Ao[a[v]]),l+=1;return e=0,t.flags&&(e|=t.flags.READONLY?4:0),f.setInt32(l,e,jt),f}}));
//# sourceMappingURL=index.js.map
